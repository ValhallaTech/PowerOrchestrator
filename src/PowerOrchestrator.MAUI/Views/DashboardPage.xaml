<?xml version="1.0" encoding="utf-8" ?>
<ContentPage
    x:Class="PowerOrchestrator.MAUI.Views.DashboardPage"
    xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
    xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
    xmlns:material="http://schemas.enisn-projects.io/dotnet/maui/uraniumui/material"
    xmlns:m="clr-namespace:UraniumUI.Icons.MaterialIcons;assembly=UraniumUI.Icons.MaterialIcons"
    xmlns:viewmodels="clr-namespace:PowerOrchestrator.MAUI.ViewModels"
    x:DataType="viewmodels:DashboardViewModel"
    Title="{Binding Title}"
    BackgroundColor="{DynamicResource Surface}">

    <ScrollView>
        <StackLayout Padding="20" Spacing="20">
            
            <!-- Welcome Header -->
            <material:CardView BackgroundColor="{DynamicResource PrimaryContainer}" CornerRadius="12">
                <StackLayout Padding="20" Spacing="10">
                    <Label 
                        Text="âš¡ Welcome to PowerOrchestrator" 
                        FontSize="24" 
                        FontAttributes="Bold"
                        TextColor="{DynamicResource OnPrimaryContainer}" 
                        HorizontalOptions="Center" />
                    <Label 
                        Text="Manage your PowerShell scripts and automation workflows"
                        FontSize="16"
                        TextColor="{DynamicResource OnPrimaryContainer}"
                        HorizontalOptions="Center"
                        HorizontalTextAlignment="Center" />
                </StackLayout>
            </material:CardView>

            <!-- Statistics Grid -->
            <Grid ColumnDefinitions="*,*" RowDefinitions="Auto,Auto" ColumnSpacing="15" RowSpacing="15">
                
                <!-- Total Scripts Card -->
                <material:CardView Grid.Row="0" Grid.Column="0" BackgroundColor="{DynamicResource SecondaryContainer}" CornerRadius="12"
                                 SemanticProperties.Description="Total scripts statistics card"
                                 SemanticProperties.Hint="Shows the total number of scripts in the system"
                                 AutomationProperties.Name="Total Scripts"
                                 AutomationProperties.HelpText="This card displays the total number of scripts available in PowerOrchestrator">
                    <StackLayout Padding="15" Spacing="5">
                        <Label 
                            Text="{x:Static m:MaterialIcons.Description}"
                            FontFamily="MaterialRegular"
                            FontSize="32"
                            TextColor="{DynamicResource OnSecondaryContainer}"
                            HorizontalOptions="Center"
                            SemanticProperties.Description="Scripts icon" />
                        <Label 
                            Text="{Binding TotalScripts}"
                            FontSize="24"
                            FontAttributes="Bold"
                            TextColor="{DynamicResource OnSecondaryContainer}"
                            HorizontalOptions="Center"
                            SemanticProperties.Description="{Binding TotalScripts, StringFormat='Total scripts count: {0}'}"
                            AutomationProperties.Name="Scripts Count" />
                        <Label 
                            Text="Scripts"
                            FontSize="14"
                            TextColor="{DynamicResource OnSecondaryContainer}"
                            HorizontalOptions="Center"
                            SemanticProperties.Description="Scripts label" />
                    </StackLayout>
                </material:CardView>

                <!-- Active Executions Card -->
                <material:CardView Grid.Row="0" Grid.Column="1" BackgroundColor="{DynamicResource TertiaryContainer}" CornerRadius="12"
                                 SemanticProperties.Description="Active executions statistics card"
                                 SemanticProperties.Hint="Shows the number of currently running script executions"
                                 AutomationProperties.Name="Active Executions"
                                 AutomationProperties.HelpText="This card displays the number of script executions currently running">
                    <StackLayout Padding="15" Spacing="5">
                        <Label 
                            Text="{x:Static m:MaterialIcons.PlayArrow}"
                            FontFamily="MaterialRegular"
                            FontSize="32"
                            TextColor="{DynamicResource OnTertiaryContainer}"
                            HorizontalOptions="Center"
                            SemanticProperties.Description="Play arrow icon for active executions" />
                        <Label 
                            Text="{Binding ActiveExecutions}"
                            FontSize="24"
                            FontAttributes="Bold"
                            TextColor="{DynamicResource OnTertiaryContainer}"
                            HorizontalOptions="Center"
                            SemanticProperties.Description="{Binding ActiveExecutions, StringFormat='Active executions count: {0}'}"
                            AutomationProperties.Name="Active Executions Count" />
                        <Label 
                            Text="Active"
                            FontSize="14"
                            TextColor="{DynamicResource OnTertiaryContainer}"
                            HorizontalOptions="Center"
                            SemanticProperties.Description="Active executions label" />
                    </StackLayout>
                </material:CardView>

                <!-- Repositories Card -->
                <material:CardView Grid.Row="1" Grid.Column="0" BackgroundColor="{DynamicResource Surface2}" CornerRadius="12">
                    <StackLayout Padding="15" Spacing="5">
                        <Label 
                            Text="{x:Static m:MaterialIcons.FolderOpen}"
                            FontFamily="MaterialRegular"
                            FontSize="32"
                            TextColor="{DynamicResource OnSurface}"
                            HorizontalOptions="Center" />
                        <Label 
                            Text="0"
                            FontSize="24"
                            FontAttributes="Bold"
                            TextColor="{DynamicResource OnSurface}"
                            HorizontalOptions="Center" />
                        <Label 
                            Text="Repos"
                            FontSize="14"
                            TextColor="{DynamicResource OnSurface}"
                            HorizontalOptions="Center" />
                    </StackLayout>
                </material:CardView>

                <!-- Users Card -->
                <material:CardView Grid.Row="1" Grid.Column="1" BackgroundColor="{DynamicResource Surface3}" CornerRadius="12">
                    <StackLayout Padding="15" Spacing="5">
                        <Label 
                            Text="{x:Static m:MaterialIcons.People}"
                            FontFamily="MaterialRegular"
                            FontSize="32"
                            TextColor="{DynamicResource OnSurface}"
                            HorizontalOptions="Center" />
                        <Label 
                            Text="1"
                            FontSize="24"
                            FontAttributes="Bold"
                            TextColor="{DynamicResource OnSurface}"
                            HorizontalOptions="Center" />
                        <Label 
                            Text="Users"
                            FontSize="14"
                            TextColor="{DynamicResource OnSurface}"
                            HorizontalOptions="Center" />
                    </StackLayout>
                </material:CardView>

            </Grid>

            <!-- Quick Actions -->
            <material:CardView BackgroundColor="{DynamicResource SurfaceContainer}" CornerRadius="12">
                <StackLayout Padding="20" Spacing="15">
                    <Label 
                        Text="Quick Actions" 
                        FontSize="18" 
                        FontAttributes="Bold"
                        TextColor="{DynamicResource OnSurface}" />
                    
                    <Grid ColumnDefinitions="*,*" ColumnSpacing="15" RowSpacing="10">
                        
                        <material:Button 
                            Grid.Column="0"
                            Text="New Script"
                            Icon="{x:Static m:MaterialIcons.Add}"
                            Style="{DynamicResource FilledButtonStyle}"
                            Command="{Binding NavigateToScriptsCommand}" />
                        
                        <material:Button 
                            Grid.Column="1"
                            Text="View Executions"
                            Icon="{x:Static m:MaterialIcons.History}"
                            Style="{DynamicResource OutlinedButtonStyle}"
                            Command="{Binding NavigateToExecutionsCommand}" />
                            
                    </Grid>
                </StackLayout>
            </material:CardView>

            <!-- Recent Activity -->
            <material:CardView BackgroundColor="{DynamicResource SurfaceContainer}" CornerRadius="12">
                <StackLayout Padding="20" Spacing="15">
                    <Label 
                        Text="Recent Activity" 
                        FontSize="18" 
                        FontAttributes="Bold"
                        TextColor="{DynamicResource OnSurface}" />
                    
                    <StackLayout Spacing="10">
                        <!-- Placeholder for recent activity items -->
                        <StackLayout Orientation="Horizontal" Spacing="10">
                            <Label 
                                Text="{x:Static m:MaterialIcons.Info}"
                                FontFamily="MaterialRegular"
                                FontSize="20"
                                TextColor="{DynamicResource Primary}"
                                VerticalOptions="Center" />
                            <StackLayout>
                                <Label 
                                    Text="No recent activity"
                                    FontSize="14"
                                    TextColor="{DynamicResource OnSurface}" />
                                <Label 
                                    Text="Start by creating your first script"
                                    FontSize="12"
                                    TextColor="{DynamicResource Outline}" />
                            </StackLayout>
                        </StackLayout>
                    </StackLayout>
                </StackLayout>
            </material:CardView>

        </StackLayout>
    </ScrollView>

</ContentPage>